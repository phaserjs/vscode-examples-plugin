var Mr=Object.create;var je=Object.defineProperty;var Fr=Object.getOwnPropertyDescriptor;var Ir=Object.getOwnPropertyNames;var _r=Object.getPrototypeOf,Nr=Object.prototype.hasOwnProperty;var er=e=>je(e,"__esModule",{value:!0});var Ae=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),Rr=(e,r)=>{er(e);for(var t in r)je(e,t,{get:r[t],enumerable:!0})},Cr=(e,r,t)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of Ir(r))!Nr.call(e,i)&&i!=="default"&&je(e,i,{get:()=>r[i],enumerable:!(t=Fr(r,i))||t.enumerable});return e},Me=e=>Cr(er(je(e!=null?Mr(_r(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var Sr=Ae(xr=>{var ze=Object.defineProperty,Lr=Object.defineProperties,zr=Object.getOwnPropertyDescriptors,rr=Object.getOwnPropertySymbols,Wr=Object.prototype.hasOwnProperty,Ur=Object.prototype.propertyIsEnumerable,tr=(e,r,t)=>r in e?ze(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,nr=(e,r)=>{for(var t in r||(r={}))Wr.call(r,t)&&tr(e,t,r[t]);if(rr)for(var t of rr(r))Ur.call(r,t)&&tr(e,t,r[t]);return e},ir=(e,r)=>Lr(e,zr(r)),Jr=e=>ze(e,"__esModule",{value:!0}),Yr=(e,r)=>{Jr(e);for(var t in r)ze(e,t,{get:r[t],enumerable:!0})};Yr(xr,{build:()=>st,buildSync:()=>dt,formatMessages:()=>ct,formatMessagesSync:()=>pt,initialize:()=>ht,serve:()=>ut,transform:()=>ft,transformSync:()=>mt,version:()=>ot});function lr(e){let r=i=>{if(i===null)t.write8(0);else if(typeof i=="boolean")t.write8(1),t.write8(+i);else if(typeof i=="number")t.write8(2),t.write32(i|0);else if(typeof i=="string")t.write8(3),t.write(we(i));else if(i instanceof Uint8Array)t.write8(4),t.write(i);else if(i instanceof Array){t.write8(5),t.write32(i.length);for(let a of i)r(a)}else{let a=Object.keys(i);t.write8(6),t.write32(a.length);for(let s of a)t.write(we(s)),r(i[s])}},t=new ar;return t.write32(0),t.write32(e.id<<1|+!e.isRequest),r(e.value),We(t.buf,t.len-4,0),t.buf.subarray(0,t.len)}function Gr(e){let r=()=>{switch(t.read8()){case 0:return null;case 1:return!!t.read8();case 2:return t.read32();case 3:return $e(t.read());case 4:return t.read();case 5:{let n=t.read32(),o=[];for(let u=0;u<n;u++)o.push(r());return o}case 6:{let n=t.read32(),o={};for(let u=0;u<n;u++)o[$e(t.read())]=r();return o}default:throw new Error("Invalid packet")}},t=new ar(e),i=t.read32(),a=(i&1)==0;i>>>=1;let s=r();if(t.ptr!==e.length)throw new Error("Invalid packet");return{id:i,isRequest:a,value:s}}var ar=class{constructor(e=new Uint8Array(1024)){this.buf=e,this.len=0,this.ptr=0}_write(e){if(this.len+e>this.buf.length){let r=new Uint8Array((this.len+e)*2);r.set(this.buf),this.buf=r}return this.len+=e,this.len-e}write8(e){let r=this._write(1);this.buf[r]=e}write32(e){let r=this._write(4);We(this.buf,e,r)}write(e){let r=this._write(4+e.length);We(this.buf,e.length,r),this.buf.set(e,r+4)}_read(e){if(this.ptr+e>this.buf.length)throw new Error("Invalid packet");return this.ptr+=e,this.ptr-e}read8(){return this.buf[this._read(1)]}read32(){return or(this.buf,this._read(4))}read(){let e=this.read32(),r=new Uint8Array(e),t=this._read(r.length);return r.set(this.buf.subarray(t,t+e)),r}},we,$e;if(typeof TextEncoder!="undefined"&&typeof TextDecoder!="undefined"){let e=new TextEncoder,r=new TextDecoder;we=t=>e.encode(t),$e=t=>r.decode(t)}else if(typeof Buffer!="undefined")we=e=>{let r=Buffer.from(e);return r instanceof Uint8Array||(r=new Uint8Array(r)),r},$e=e=>{let{buffer:r,byteOffset:t,byteLength:i}=e;return Buffer.from(r,t,i).toString()};else throw new Error("No UTF-8 codec found");function or(e,r){return e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24}function We(e,r,t){e[t++]=r,e[t++]=r>>8,e[t++]=r>>16,e[t++]=r>>24}function sr(e){if(e+="",e.indexOf(",")>=0)throw new Error(`Invalid target: ${e}`);return e}var Ue=()=>null,G=e=>typeof e=="boolean"?null:"a boolean",Vr=e=>typeof e=="boolean"||typeof e=="object"&&!Array.isArray(e)?null:"a boolean or an object",x=e=>typeof e=="string"?null:"a string",ur=e=>e instanceof RegExp?null:"a RegExp object",ke=e=>typeof e=="number"&&e===(e|0)?null:"an integer",Je=e=>typeof e=="function"?null:"a function",V=e=>Array.isArray(e)?null:"an array",Ee=e=>typeof e=="object"&&e!==null&&!Array.isArray(e)?null:"an object",Kr=e=>typeof e=="object"&&e!==null?null:"an array or an object",fr=e=>typeof e=="object"&&!Array.isArray(e)?null:"an object or null",Ye=e=>typeof e=="string"||typeof e=="boolean"?null:"a string or a boolean",qr=e=>typeof e=="string"||typeof e=="object"&&e!==null&&!Array.isArray(e)?null:"a string or an object",Hr=e=>typeof e=="string"||Array.isArray(e)?null:"a string or an array",Zr=e=>typeof e=="string"||e instanceof Uint8Array?null:"a string or a Uint8Array";function l(e,r,t,i){let a=e[t];if(r[t+""]=!0,a===void 0)return;let s=i(a);if(s!==null)throw new Error(`"${t}" must be ${s}`);return a}function Q(e,r,t){for(let i in e)if(!(i in r))throw new Error(`Invalid option ${t}: "${i}"`)}function Xr(e){let r=Object.create(null),t=l(e,r,"wasmURL",x),i=l(e,r,"worker",G);return Q(e,r,"in startService() call"),{wasmURL:t,worker:i}}function Fe(e,r,t,i,a){let s=l(r,t,"color",G),n=l(r,t,"logLevel",x),o=l(r,t,"logLimit",ke);s!==void 0?e.push(`--color=${s}`):i&&e.push("--color=true"),e.push(`--log-level=${n||a}`),e.push(`--log-limit=${o||0}`)}function cr(e,r,t){let i=l(r,t,"legalComments",x),a=l(r,t,"sourceRoot",x),s=l(r,t,"sourcesContent",G),n=l(r,t,"target",Hr),o=l(r,t,"format",x),u=l(r,t,"globalName",x),f=l(r,t,"minify",G),m=l(r,t,"minifySyntax",G),h=l(r,t,"minifyWhitespace",G),T=l(r,t,"minifyIdentifiers",G),B=l(r,t,"charset",x),$=l(r,t,"treeShaking",Ye),_=l(r,t,"jsx",x),Y=l(r,t,"jsxFactory",x),ee=l(r,t,"jsxFragment",x),U=l(r,t,"define",Ee),H=l(r,t,"pure",V),ne=l(r,t,"keepNames",G);if(i&&e.push(`--legal-comments=${i}`),a!==void 0&&e.push(`--source-root=${a}`),s!==void 0&&e.push(`--sources-content=${s}`),n&&(Array.isArray(n)?e.push(`--target=${Array.from(n).map(sr).join(",")}`):e.push(`--target=${sr(n)}`)),o&&e.push(`--format=${o}`),u&&e.push(`--global-name=${u}`),f&&e.push("--minify"),m&&e.push("--minify-syntax"),h&&e.push("--minify-whitespace"),T&&e.push("--minify-identifiers"),B&&e.push(`--charset=${B}`),$!==void 0&&$!==!0&&e.push(`--tree-shaking=${$}`),_&&e.push(`--jsx=${_}`),Y&&e.push(`--jsx-factory=${Y}`),ee&&e.push(`--jsx-fragment=${ee}`),U)for(let K in U){if(K.indexOf("=")>=0)throw new Error(`Invalid define: ${K}`);e.push(`--define:${K}=${U[K]}`)}if(H)for(let K of H)e.push(`--pure:${K}`);ne&&e.push("--keep-names")}function Qr(e,r,t,i,a){var s;let n=[],o=[],u=Object.create(null),f=null,m=null,h=null;Fe(n,r,u,t,i),cr(n,r,u);let T=l(r,u,"sourcemap",Ye),B=l(r,u,"bundle",G),$=l(r,u,"watch",Vr),_=l(r,u,"splitting",G),Y=l(r,u,"preserveSymlinks",G),ee=l(r,u,"metafile",G),U=l(r,u,"outfile",x),H=l(r,u,"outdir",x),ne=l(r,u,"outbase",x),K=l(r,u,"platform",x),fe=l(r,u,"tsconfig",x),le=l(r,u,"resolveExtensions",V),ce=l(r,u,"nodePaths",V),ve=l(r,u,"mainFields",V),w=l(r,u,"conditions",V),p=l(r,u,"external",V),d=l(r,u,"loader",Ee),g=l(r,u,"outExtension",Ee),z=l(r,u,"publicPath",x),M=l(r,u,"entryNames",x),j=l(r,u,"chunkNames",x),R=l(r,u,"assetNames",x),A=l(r,u,"inject",V),O=l(r,u,"banner",Ee),P=l(r,u,"footer",Ee),N=l(r,u,"entryPoints",Kr),F=l(r,u,"absWorkingDir",x),k=l(r,u,"stdin",Ee),D=(s=l(r,u,"write",G))!=null?s:a,y=l(r,u,"allowOverwrite",G),S=l(r,u,"incremental",G)===!0;if(u.plugins=!0,Q(r,u,`in ${e}() call`),T&&n.push(`--sourcemap${T===!0?"":`=${T}`}`),B&&n.push("--bundle"),y&&n.push("--allow-overwrite"),$)if(n.push("--watch"),typeof $=="boolean")h={};else{let c=Object.create(null),v=l($,c,"onRebuild",Je);Q($,c,`on "watch" in ${e}() call`),h={onRebuild:v}}if(_&&n.push("--splitting"),Y&&n.push("--preserve-symlinks"),ee&&n.push("--metafile"),U&&n.push(`--outfile=${U}`),H&&n.push(`--outdir=${H}`),ne&&n.push(`--outbase=${ne}`),K&&n.push(`--platform=${K}`),fe&&n.push(`--tsconfig=${fe}`),le){let c=[];for(let v of le){if(v+="",v.indexOf(",")>=0)throw new Error(`Invalid resolve extension: ${v}`);c.push(v)}n.push(`--resolve-extensions=${c.join(",")}`)}if(z&&n.push(`--public-path=${z}`),M&&n.push(`--entry-names=${M}`),j&&n.push(`--chunk-names=${j}`),R&&n.push(`--asset-names=${R}`),ve){let c=[];for(let v of ve){if(v+="",v.indexOf(",")>=0)throw new Error(`Invalid main field: ${v}`);c.push(v)}n.push(`--main-fields=${c.join(",")}`)}if(w){let c=[];for(let v of w){if(v+="",v.indexOf(",")>=0)throw new Error(`Invalid condition: ${v}`);c.push(v)}n.push(`--conditions=${c.join(",")}`)}if(p)for(let c of p)n.push(`--external:${c}`);if(O)for(let c in O){if(c.indexOf("=")>=0)throw new Error(`Invalid banner file type: ${c}`);n.push(`--banner:${c}=${O[c]}`)}if(P)for(let c in P){if(c.indexOf("=")>=0)throw new Error(`Invalid footer file type: ${c}`);n.push(`--footer:${c}=${P[c]}`)}if(A)for(let c of A)n.push(`--inject:${c}`);if(d)for(let c in d){if(c.indexOf("=")>=0)throw new Error(`Invalid loader extension: ${c}`);n.push(`--loader:${c}=${d[c]}`)}if(g)for(let c in g){if(c.indexOf("=")>=0)throw new Error(`Invalid out extension: ${c}`);n.push(`--out-extension:${c}=${g[c]}`)}if(N)if(Array.isArray(N))for(let c of N)o.push(["",c+""]);else for(let[c,v]of Object.entries(N))o.push([c+"",v+""]);if(k){let c=Object.create(null),v=l(k,c,"contents",x),b=l(k,c,"resolveDir",x),E=l(k,c,"sourcefile",x),W=l(k,c,"loader",x);Q(k,c,'in "stdin" object'),E&&n.push(`--sourcefile=${E}`),W&&n.push(`--loader=${W}`),b&&(m=b+""),f=v?v+"":""}let C=[];if(ce)for(let c of ce)c+="",C.push(c);return{entries:o,flags:n,write:D,stdinContents:f,stdinResolveDir:m,absWorkingDir:F,incremental:S,nodePaths:C,watch:h}}function et(e,r,t,i){let a=[],s=Object.create(null);Fe(a,r,s,t,i),cr(a,r,s);let n=l(r,s,"sourcemap",Ye),o=l(r,s,"tsconfigRaw",qr),u=l(r,s,"sourcefile",x),f=l(r,s,"loader",x),m=l(r,s,"banner",x),h=l(r,s,"footer",x);return Q(r,s,`in ${e}() call`),n&&a.push(`--sourcemap=${n===!0?"external":n}`),o&&a.push(`--tsconfig-raw=${typeof o=="string"?o:JSON.stringify(o)}`),u&&a.push(`--sourcefile=${u}`),f&&a.push(`--loader=${f}`),m&&a.push(`--banner=${m}`),h&&a.push(`--footer=${h}`),a}function dr(e){let r=new Map,t=new Map,i=new Map,a=new Map,s=0,n=!1,o=0,u=0,f=new Uint8Array(16*1024),m=0,h=w=>{let p=m+w.length;if(p>f.length){let g=new Uint8Array(p*2);g.set(f),f=g}f.set(w,m),m+=w.length;let d=0;for(;d+4<=m;){let g=or(f,d);if(d+4+g>m)break;d+=4,ee(f.subarray(d,d+g)),d+=g}d>0&&(f.copyWithin(0,d,m),m-=d)},T=()=>{n=!0;for(let w of r.values())w("The service was stopped",null);r.clear();for(let w of a.values())w.onWait("The service was stopped");a.clear();for(let w of i.values())try{w(new Error("The service was stopped"),null)}catch(p){console.error(p)}i.clear()},B=(w,p,d)=>{if(n)return d("The service is no longer running",null);let g=o++;r.set(g,(z,M)=>{try{d(z,M)}finally{w&&w.unref()}}),w&&w.ref(),e.writeToStdin(lr({id:g,isRequest:!0,value:p}))},$=(w,p)=>{if(n)throw new Error("The service is no longer running");e.writeToStdin(lr({id:w,isRequest:!1,value:p}))},_=async(w,p)=>{try{switch(p.command){case"ping":{$(w,{});break}case"start":{let d=t.get(p.key);d?$(w,await d(p)):$(w,{});break}case"resolve":{let d=t.get(p.key);d?$(w,await d(p)):$(w,{});break}case"load":{let d=t.get(p.key);d?$(w,await d(p)):$(w,{});break}case"serve-request":{let d=a.get(p.serveID);d&&d.onRequest&&d.onRequest(p.args),$(w,{});break}case"serve-wait":{let d=a.get(p.serveID);d&&d.onWait(p.error),$(w,{});break}case"watch-rebuild":{let d=i.get(p.watchID);try{d&&d(null,p.args)}catch(g){console.error(g)}$(w,{});break}default:throw new Error("Invalid command: "+p.command)}}catch(d){$(w,{errors:[Te(d,e,null,void 0,"")]})}},Y=!0,ee=w=>{if(Y){Y=!1;let d=String.fromCharCode(...w);if(d!=="0.12.17")throw new Error(`Cannot start service: Host version "0.12.17" does not match binary version ${JSON.stringify(d)}`);return}let p=Gr(w);if(p.isRequest)_(p.id,p.value);else{let d=r.get(p.id);r.delete(p.id),p.value.error?d(p.value.error,{}):d(null,p.value)}},U=async(w,p,d,g)=>{let z=[],M=[],j={},R={},A=0,O=0,P=[];p=[...p];for(let D of p){let y={};if(typeof D!="object")throw new Error(`Plugin at index ${O} must be an object`);let S=l(D,y,"name",x);if(typeof S!="string"||S==="")throw new Error(`Plugin at index ${O} is missing a name`);try{let C=l(D,y,"setup",Je);if(typeof C!="function")throw new Error("Plugin is missing a setup function");Q(D,y,`on plugin ${JSON.stringify(S)}`);let c={name:S,onResolve:[],onLoad:[]};O++;let v=C({initialOptions:w,onStart(b){let E='This error came from the "onStart" callback registered here',W=Ie(new Error(E),e,"onStart");z.push({name:S,callback:b,note:W})},onEnd(b){let E='This error came from the "onEnd" callback registered here',W=Ie(new Error(E),e,"onEnd");M.push({name:S,callback:b,note:W})},onResolve(b,E){let W='This error came from the "onResolve" callback registered here',J=Ie(new Error(W),e,"onResolve"),q={},Z=l(b,q,"filter",ur),re=l(b,q,"namespace",x);if(Q(b,q,`in onResolve() call for plugin ${JSON.stringify(S)}`),Z==null)throw new Error("onResolve() call is missing a filter");let X=A++;j[X]={name:S,callback:E,note:J},c.onResolve.push({id:X,filter:Z.source,namespace:re||""})},onLoad(b,E){let W='This error came from the "onLoad" callback registered here',J=Ie(new Error(W),e,"onLoad"),q={},Z=l(b,q,"filter",ur),re=l(b,q,"namespace",x);if(Q(b,q,`in onLoad() call for plugin ${JSON.stringify(S)}`),Z==null)throw new Error("onLoad() call is missing a filter");let X=A++;R[X]={name:S,callback:E,note:J},c.onLoad.push({id:X,filter:Z.source,namespace:re||""})}});v&&await v,P.push(c)}catch(C){return{ok:!1,error:C,pluginName:S}}}let N=async D=>{switch(D.command){case"start":{let y={errors:[],warnings:[]};return await Promise.all(z.map(async({name:S,callback:C,note:c})=>{try{let v=await C();if(v!=null){if(typeof v!="object")throw new Error(`Expected onStart() callback in plugin ${JSON.stringify(S)} to return an object`);let b={},E=l(v,b,"errors",V),W=l(v,b,"warnings",V);Q(v,b,`from onStart() callback in plugin ${JSON.stringify(S)}`),E!=null&&y.errors.push(...ge(E,"errors",g,S)),W!=null&&y.warnings.push(...ge(W,"warnings",g,S))}}catch(v){y.errors.push(Te(v,e,g,c&&c(),S))}})),y}case"resolve":{let y={},S="",C,c;for(let v of D.ids)try{({name:S,callback:C,note:c}=j[v]);let b=await C({path:D.path,importer:D.importer,namespace:D.namespace,resolveDir:D.resolveDir,kind:D.kind,pluginData:g.load(D.pluginData)});if(b!=null){if(typeof b!="object")throw new Error(`Expected onResolve() callback in plugin ${JSON.stringify(S)} to return an object`);let E={},W=l(b,E,"pluginName",x),J=l(b,E,"path",x),q=l(b,E,"namespace",x),Z=l(b,E,"external",G),re=l(b,E,"sideEffects",G),X=l(b,E,"pluginData",Ue),de=l(b,E,"errors",V),me=l(b,E,"warnings",V),I=l(b,E,"watchFiles",V),ie=l(b,E,"watchDirs",V);Q(b,E,`from onResolve() callback in plugin ${JSON.stringify(S)}`),y.id=v,W!=null&&(y.pluginName=W),J!=null&&(y.path=J),q!=null&&(y.namespace=q),Z!=null&&(y.external=Z),re!=null&&(y.sideEffects=re),X!=null&&(y.pluginData=g.store(X)),de!=null&&(y.errors=ge(de,"errors",g,S)),me!=null&&(y.warnings=ge(me,"warnings",g,S)),I!=null&&(y.watchFiles=_e(I,"watchFiles")),ie!=null&&(y.watchDirs=_e(ie,"watchDirs"));break}}catch(b){return{id:v,errors:[Te(b,e,g,c&&c(),S)]}}return y}case"load":{let y={},S="",C,c;for(let v of D.ids)try{({name:S,callback:C,note:c}=R[v]);let b=await C({path:D.path,namespace:D.namespace,pluginData:g.load(D.pluginData)});if(b!=null){if(typeof b!="object")throw new Error(`Expected onLoad() callback in plugin ${JSON.stringify(S)} to return an object`);let E={},W=l(b,E,"pluginName",x),J=l(b,E,"contents",Zr),q=l(b,E,"resolveDir",x),Z=l(b,E,"pluginData",Ue),re=l(b,E,"loader",x),X=l(b,E,"errors",V),de=l(b,E,"warnings",V),me=l(b,E,"watchFiles",V),I=l(b,E,"watchDirs",V);Q(b,E,`from onLoad() callback in plugin ${JSON.stringify(S)}`),y.id=v,W!=null&&(y.pluginName=W),J instanceof Uint8Array?y.contents=J:J!=null&&(y.contents=we(J)),q!=null&&(y.resolveDir=q),Z!=null&&(y.pluginData=g.store(Z)),re!=null&&(y.loader=re),X!=null&&(y.errors=ge(X,"errors",g,S)),de!=null&&(y.warnings=ge(de,"warnings",g,S)),me!=null&&(y.watchFiles=_e(me,"watchFiles")),I!=null&&(y.watchDirs=_e(I,"watchDirs"));break}}catch(b){return{id:v,errors:[Te(b,e,g,c&&c(),S)]}}return y}default:throw new Error("Invalid command: "+D.command)}},F=(D,y,S)=>S();M.length>0&&(F=(D,y,S)=>{(async()=>{for(let{name:C,callback:c,note:v}of M)try{await c(D)}catch(b){D.errors.push(await new Promise(E=>y(b,C,v&&v(),E)))}})().then(S)});let k=0;return{ok:!0,requestPlugins:P,runOnEndCallbacks:F,pluginRefs:{ref(){++k==1&&t.set(d,N)},unref(){--k==0&&t.delete(d)}}}},H=(w,p,d)=>{let g={},z=l(p,g,"port",ke),M=l(p,g,"host",x),j=l(p,g,"servedir",x),R=l(p,g,"onRequest",Je),A=s++,O,P=new Promise((N,F)=>{O=k=>{a.delete(A),k!==null?F(new Error(k)):N()}});return d.serve={serveID:A},Q(p,g,"in serve() call"),z!==void 0&&(d.serve.port=z),M!==void 0&&(d.serve.host=M),j!==void 0&&(d.serve.servedir=j),a.set(A,{onRequest:R,onWait:O}),{wait:P,stop(){B(w,{command:"serve-stop",serveID:A},()=>{})}}},ne="warning",K="silent",fe=w=>{let p=u++,d=mr(),g,{refs:z,options:M,isTTY:j,callback:R}=w;if(typeof M=="object"){let P=M.plugins;if(P!==void 0){if(!Array.isArray(P))throw new Error('"plugins" must be an array');g=P}}let A=(P,N,F,k)=>{let D=[];try{Fe(D,M,{},j,ne)}catch(S){}let y=Te(P,e,d,F,N);B(z,{command:"error",flags:D,error:y},()=>{y.detail=d.load(y.detail),k(y)})},O=(P,N)=>{A(P,N,void 0,F=>{R(Pe("Build failed",[F],[]),null)})};if(g&&g.length>0){if(e.isSync)return O(new Error("Cannot use plugins in synchronous API calls"),"");U(M,g,p,d).then(P=>{if(!P.ok)O(P.error,P.pluginName);else try{le(ir(nr({},w),{key:p,details:d,logPluginError:A,requestPlugins:P.requestPlugins,runOnEndCallbacks:P.runOnEndCallbacks,pluginRefs:P.pluginRefs}))}catch(N){O(N,"")}},P=>O(P,""))}else try{le(ir(nr({},w),{key:p,details:d,logPluginError:A,requestPlugins:null,runOnEndCallbacks:(P,N,F)=>F(),pluginRefs:null}))}catch(P){O(P,"")}},le=({callName:w,refs:p,serveOptions:d,options:g,isTTY:z,defaultWD:M,callback:j,key:R,details:A,logPluginError:O,requestPlugins:P,runOnEndCallbacks:N,pluginRefs:F})=>{let k={ref(){F&&F.ref(),p&&p.ref()},unref(){F&&F.unref(),p&&p.unref()}},D=!e.isBrowser,{entries:y,flags:S,write:C,stdinContents:c,stdinResolveDir:v,absWorkingDir:b,incremental:E,nodePaths:W,watch:J}=Qr(w,g,z,ne,D),q={command:"build",key:R,entries:y,flags:S,write:C,stdinContents:c,stdinResolveDir:v,absWorkingDir:b||M,incremental:E,nodePaths:W};P&&(q.plugins=P);let Z=d&&H(k,d,q),re,X,de=(I,ie)=>{I.outputFiles&&(ie.outputFiles=I.outputFiles.map(rt)),I.metafile&&(ie.metafile=JSON.parse(I.metafile)),I.writeToStdout!==void 0&&console.log($e(I.writeToStdout).replace(/\n$/,""))},me=(I,ie)=>{let ae={errors:Be(I.errors,A),warnings:Be(I.warnings,A)};de(I,ae),N(ae,O,()=>{if(ae.errors.length>0)return ie(Pe("Build failed",ae.errors,ae.warnings),null);if(I.rebuildID!==void 0){if(!re){let se=!1;re=()=>new Promise((xe,Se)=>{if(se||n)throw new Error("Cannot rebuild");B(k,{command:"rebuild",rebuildID:I.rebuildID},(oe,jr)=>{if(oe)return ie(Pe("Build failed",[{pluginName:"",text:oe,location:null,notes:[],detail:void 0}],[]),null);me(jr,(Le,Ar)=>{Le?Se(Le):xe(Ar)})})}),k.ref(),re.dispose=()=>{se||(se=!0,B(k,{command:"rebuild-dispose",rebuildID:I.rebuildID},()=>{}),k.unref())}}ae.rebuild=re}if(I.watchID!==void 0){if(!X){let se=!1;k.ref(),X=()=>{se||(se=!0,i.delete(I.watchID),B(k,{command:"watch-stop",watchID:I.watchID},()=>{}),k.unref())},J&&i.set(I.watchID,(xe,Se)=>{if(xe){J.onRebuild&&J.onRebuild(xe,null);return}let oe={errors:Be(Se.errors,A),warnings:Be(Se.warnings,A)};de(Se,oe),N(oe,O,()=>{if(oe.errors.length>0){J.onRebuild&&J.onRebuild(Pe("Build failed",oe.errors,oe.warnings),null);return}Se.rebuildID!==void 0&&(oe.rebuild=re),oe.stop=X,J.onRebuild&&J.onRebuild(null,oe)})})}ae.stop=X}ie(null,ae)})};if(C&&e.isBrowser)throw new Error('Cannot enable "write" in the browser');if(E&&e.isSync)throw new Error('Cannot use "incremental" with a synchronous build');B(k,q,(I,ie)=>{if(I)return j(new Error(I),null);if(Z){let ae=ie,se=!1;k.ref();let xe={port:ae.port,host:ae.host,wait:Z.wait,stop(){se||(se=!0,Z.stop(),k.unref())}};return k.ref(),Z.wait.then(k.unref,k.unref),j(null,xe)}return me(ie,j)})};return{readFromStdout:h,afterClose:T,service:{buildOrServe:fe,transform:({callName:w,refs:p,input:d,options:g,isTTY:z,fs:M,callback:j})=>{let R=mr(),A=O=>{try{if(typeof d!="string")throw new Error('The input to "transform" must be a string');let P=et(w,g,z,K);B(p,{command:"transform",flags:P,inputFS:O!==null,input:O!==null?O:d},(F,k)=>{if(F)return j(new Error(F),null);let D=Be(k.errors,R),y=Be(k.warnings,R),S=1,C=()=>--S==0&&j(null,{warnings:y,code:k.code,map:k.map});if(D.length>0)return j(Pe("Transform failed",D,y),null);k.codeFS&&(S++,M.readFile(k.code,(c,v)=>{c!==null?j(c,null):(k.code=v,C())})),k.mapFS&&(S++,M.readFile(k.map,(c,v)=>{c!==null?j(c,null):(k.map=v,C())})),C()})}catch(P){let N=[];try{Fe(N,g,{},z,K)}catch(k){}let F=Te(P,e,R,void 0,"");B(p,{command:"error",flags:N,error:F},()=>{F.detail=R.load(F.detail),j(Pe("Transform failed",[F],[]),null)})}};if(typeof d=="string"&&d.length>1024*1024){let O=A;A=()=>M.writeFile(d,O)}A(null)},formatMessages:({callName:w,refs:p,messages:d,options:g,callback:z})=>{let M=ge(d,"messages",null,"");if(!g)throw new Error(`Missing second argument in ${w}() call`);let j={},R=l(g,j,"kind",x),A=l(g,j,"color",G),O=l(g,j,"terminalWidth",ke);if(Q(g,j,`in ${w}() call`),R===void 0)throw new Error(`Missing "kind" in ${w}() call`);if(R!=="error"&&R!=="warning")throw new Error(`Expected "kind" to be "error" or "warning" in ${w}() call`);let P={command:"format-msgs",messages:M,isWarning:R==="warning"};A!==void 0&&(P.color=A),O!==void 0&&(P.terminalWidth=O),B(p,P,(N,F)=>{if(N)return z(new Error(N),null);z(null,F.messages)})}}}}function mr(){let e=new Map,r=0;return{load(t){return e.get(t)},store(t){if(t===void 0)return-1;let i=r++;return e.set(i,t),i}}}function Ie(e,r,t){let i,a=!1;return()=>{if(a)return i;a=!0;try{let s=(e.stack+"").split(`
`);s.splice(1,1);let n=pr(r,s,t);if(n)return i={text:e.message,location:n},i}catch(s){}}}function Te(e,r,t,i,a){let s="Internal error",n=null;try{s=(e&&e.message||e)+""}catch(o){}try{n=pr(r,(e.stack+"").split(`
`),"")}catch(o){}return{pluginName:a,text:s,location:n,notes:i?[i]:[],detail:t?t.store(e):-1}}function pr(e,r,t){let i="    at ";if(e.readFileSync&&!r[0].startsWith(i)&&r[1].startsWith(i))for(let a=1;a<r.length;a++){let s=r[a];if(!!s.startsWith(i))for(s=s.slice(i.length);;){let n=/^(?:new |async )?\S+ \((.*)\)$/.exec(s);if(n){s=n[1];continue}if(n=/^eval at \S+ \((.*)\)(?:, \S+:\d+:\d+)?$/.exec(s),n){s=n[1];continue}if(n=/^(\S+):(\d+):(\d+)$/.exec(s),n){let o;try{o=e.readFileSync(n[1],"utf8")}catch(h){break}let u=o.split(/\r\n|\r|\n|\u2028|\u2029/)[+n[2]-1]||"",f=+n[3]-1,m=u.slice(f,f+t.length)===t?t.length:0;return{file:n[1],namespace:"file",line:+n[2],column:we(u.slice(0,f)).length,length:we(u.slice(f,f+m)).length,lineText:u+`
`+r.slice(1).join(`
`),suggestion:""}}break}}return null}function Pe(e,r,t){let i=5,a=r.length<1?"":` with ${r.length} error${r.length<2?"":"s"}:`+r.slice(0,i+1).map((n,o)=>{if(o===i)return`
...`;if(!n.location)return`
error: ${n.text}`;let{file:u,line:f,column:m}=n.location,h=n.pluginName?`[plugin: ${n.pluginName}] `:"";return`
${u}:${f}:${m}: error: ${h}${n.text}`}).join(""),s=new Error(`${e}${a}`);return s.errors=r,s.warnings=t,s}function Be(e,r){for(let t of e)t.detail=r.load(t.detail);return e}function hr(e,r){if(e==null)return null;let t={},i=l(e,t,"file",x),a=l(e,t,"namespace",x),s=l(e,t,"line",ke),n=l(e,t,"column",ke),o=l(e,t,"length",ke),u=l(e,t,"lineText",x),f=l(e,t,"suggestion",x);return Q(e,t,r),{file:i||"",namespace:a||"",line:s||0,column:n||0,length:o||0,lineText:u||"",suggestion:f||""}}function ge(e,r,t,i){let a=[],s=0;for(let n of e){let o={},u=l(n,o,"pluginName",x),f=l(n,o,"text",x),m=l(n,o,"location",fr),h=l(n,o,"notes",V),T=l(n,o,"detail",Ue),B=`in element ${s} of "${r}"`;Q(n,o,B);let $=[];if(h)for(let _ of h){let Y={},ee=l(_,Y,"text",x),U=l(_,Y,"location",fr);Q(_,Y,B),$.push({text:ee||"",location:hr(U,B)})}a.push({pluginName:u||i,text:f||"",location:hr(m,B),notes:$,detail:t?t.store(T):-1}),s++}return a}function _e(e,r){let t=[];for(let i of e){if(typeof i!="string")throw new Error(`${JSON.stringify(r)} must be an array of strings`);t.push(i)}return t}function rt({path:e,contents:r}){let t=null;return{path:e,contents:r,get text(){return t===null&&(t=$e(r)),t}}}var wr=require("child_process"),tt=require("crypto"),be=require("path"),pe=require("fs"),nt=require("os"),it=require("tty"),te;if(process.env.ESBUILD_WORKER_THREADS!=="0"){try{te=require("worker_threads")}catch(t){}let[e,r]=process.versions.node.split(".");(+e<12||+e==12&&+r<17||+e==13&&+r<13)&&(te=void 0)}var gr,Ne=((gr=te==null?void 0:te.workerData)==null?void 0:gr.esbuildVersion)==="0.12.17",br=()=>{if(process.env.ESBUILD_BINARY_PATH)return[be.resolve(process.env.ESBUILD_BINARY_PATH),[]];if(be.basename(__filename)!=="main.js"||be.basename(__dirname)!=="lib")throw new Error(`The esbuild JavaScript API cannot be bundled. Please mark the "esbuild" package as external so it's not included in the bundle.

More information: The file containing the code for esbuild's JavaScript API (${__filename}) does not appear to be inside the esbuild package on the file system, which usually means that the esbuild package was bundled into another file. This is problematic because the API needs to run a binary executable inside the esbuild package which is located using a relative path from the API code to the executable. If the esbuild package is bundled, the relative path will be incorrect and the executable won't be found.`);if(process.platform==="win32")return[be.join(__dirname,"..","esbuild.exe"),[]];let e=be.join(__dirname,"..","esbuild");return pe.existsSync(e)?[e,[]]:[be.join(__dirname,"..","bin","esbuild"),[]]},Oe=()=>it.isatty(2),lt={readFile(e,r){try{let t=pe.readFileSync(e,"utf8");try{pe.unlinkSync(e)}catch(i){}r(null,t)}catch(t){r(t,null)}},writeFile(e,r){try{let t=vr();pe.writeFileSync(t,e),r(t)}catch(t){r(null)}}},at={readFile(e,r){try{pe.readFile(e,"utf8",(t,i)=>{try{pe.unlink(e,()=>r(t,i))}catch(a){r(t,i)}})}catch(t){r(t,null)}},writeFile(e,r){try{let t=vr();pe.writeFile(t,e,i=>r(i!==null?null:t))}catch(t){r(null)}}},ot="0.12.17",st=e=>De().build(e),ut=(e,r)=>De().serve(e,r),ft=(e,r)=>De().transform(e,r),ct=(e,r)=>De().formatMessages(e,r),dt=e=>{if(te&&!Ne)return ue||(ue=Ve(te)),ue.buildSync(e);let r;return Ge(t=>t.buildOrServe({callName:"buildSync",refs:null,serveOptions:null,options:e,isTTY:Oe(),defaultWD:ye,callback:(i,a)=>{if(i)throw i;r=a}})),r},mt=(e,r)=>{if(te&&!Ne)return ue||(ue=Ve(te)),ue.transformSync(e,r);let t;return Ge(i=>i.transform({callName:"transformSync",refs:null,input:e,options:r||{},isTTY:Oe(),fs:lt,callback:(a,s)=>{if(a)throw a;t=s}})),t},pt=(e,r)=>{if(te&&!Ne)return ue||(ue=Ve(te)),ue.formatMessagesSync(e,r);let t;return Ge(i=>i.formatMessages({callName:"formatMessagesSync",refs:null,messages:e,options:r,callback:(a,s)=>{if(a)throw a;t=s}})),t},yr=!1,ht=e=>{if(e=Xr(e||{}),e.wasmURL)throw new Error('The "wasmURL" option only works in the browser');if(e.worker)throw new Error('The "worker" option only works in the browser');if(yr)throw new Error('Cannot call "initialize" more than once');return De(),yr=!0,Promise.resolve()},ye=process.cwd(),Re,De=()=>{if(Re)return Re;let[e,r]=br(),t=wr.spawn(e,r.concat("--service=0.12.17","--ping"),{windowsHide:!0,stdio:["pipe","pipe","inherit"],cwd:ye}),{readFromStdout:i,afterClose:a,service:s}=dr({writeToStdin(m){t.stdin.write(m)},readFileSync:pe.readFileSync,isSync:!1,isBrowser:!1}),n=t.stdin,o=t.stdout;o.on("data",i),o.on("end",a);let u=0;t.unref(),n.unref&&n.unref(),o.unref&&o.unref();let f={ref(){++u==1&&t.ref()},unref(){--u==0&&t.unref()}};return Re={build:m=>new Promise((h,T)=>{s.buildOrServe({callName:"build",refs:f,serveOptions:null,options:m,isTTY:Oe(),defaultWD:ye,callback:(B,$)=>B?T(B):h($)})}),serve:(m,h)=>{if(m===null||typeof m!="object")throw new Error("The first argument must be an object");return new Promise((T,B)=>s.buildOrServe({callName:"serve",refs:f,serveOptions:m,options:h,isTTY:Oe(),defaultWD:ye,callback:($,_)=>$?B($):T(_)}))},transform:(m,h)=>new Promise((T,B)=>s.transform({callName:"transform",refs:f,input:m,options:h||{},isTTY:Oe(),fs:at,callback:($,_)=>$?B($):T(_)})),formatMessages:(m,h)=>new Promise((T,B)=>s.formatMessages({callName:"formatMessages",refs:f,messages:m,options:h,callback:($,_)=>$?B($):T(_)}))},Re},Ge=e=>{let[r,t]=br(),i=new Uint8Array,{readFromStdout:a,afterClose:s,service:n}=dr({writeToStdin(u){if(i.length!==0)throw new Error("Must run at most one command");i=u},isSync:!0,isBrowser:!1});e(n);let o=wr.execFileSync(r,t.concat("--service=0.12.17"),{cwd:ye,windowsHide:!0,input:i,maxBuffer:+process.env.ESBUILD_MAX_BUFFER||16*1024*1024});a(o),s()},vr=()=>be.join(nt.tmpdir(),`esbuild-${tt.randomBytes(32).toString("hex")}`),ue=null,Ve=e=>{let{port1:r,port2:t}=new e.MessageChannel,i=new e.Worker(__filename,{workerData:{workerPort:t,defaultWD:ye,esbuildVersion:"0.12.17"},transferList:[t],execArgv:[]}),a=0,s=!1,n=m=>{let h=new Error(`Build failed with 1 error:
error: ${m}`),T=[{pluginName:"",text:m,location:null,notes:[],detail:void 0}];return h.errors=T,h.warnings=[],h},o=m=>{if(!m)return;let h=m.plugins,T=m.incremental;if(h&&h.length>0)throw n("Cannot use plugins in synchronous API calls");if(T)throw n('Cannot use "incremental" with a synchronous build')},u=(m,h)=>{for(let T in h)m[T]=h[T]},f=(m,h)=>{if(s)throw new Error("The service was stopped");let T=a++,B=new SharedArrayBuffer(8),$=new Int32Array(B),_={sharedBuffer:B,id:T,command:m,args:h};i.postMessage(_);let Y=Atomics.wait($,0,0);if(Y!=="ok"&&Y!=="not-equal")throw new Error("Internal error: Atomics.wait() failed: "+Y);let{message:{id:ee,resolve:U,reject:H,properties:ne}}=e.receiveMessageOnPort(r);if(T!==ee)throw new Error(`Internal error: Expected id ${T} but got id ${ee}`);if(H)throw u(H,ne),H;return U};return i.unref(),{buildSync(m){return o(m),f("build",[m])},transformSync(m,h){return f("transform",[m,h])},formatMessagesSync(m,h){return f("formatMessages",[m,h])}}},wt=()=>{let e=te.workerData.workerPort,r=te.parentPort,t=De();ye=te.workerData.defaultWD;let i=a=>{let s={};if(a&&typeof a=="object")for(let n in a)s[n]=a[n];return s};r.on("message",a=>{(async()=>{let{sharedBuffer:s,id:n,command:o,args:u}=a,f=new Int32Array(s);try{if(o==="build")e.postMessage({id:n,resolve:await t.build(u[0])});else if(o==="transform")e.postMessage({id:n,resolve:await t.transform(u[0],u[1])});else if(o==="formatMessages")e.postMessage({id:n,resolve:await t.formatMessages(u[0],u[1])});else throw new Error(`Invalid command: ${o}`)}catch(m){e.postMessage({id:n,reject:m,properties:i(m)})}Atomics.add(f,0,1),Atomics.notify(f,0,1/0)})()})};Ne&&wt()});var $r=Ae((Ke,qe)=>{(function(e,r){typeof Ke=="object"&&typeof qe!="undefined"?qe.exports=r():typeof define=="function"&&define.amd?define(r):(e=typeof globalThis!="undefined"?globalThis:e||self,e.filesize=r())})(Ke,function(){"use strict";var e=/^(b|B)$/,r={iec:{bits:["b","Kib","Mib","Gib","Tib","Pib","Eib","Zib","Yib"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["b","Kb","Mb","Gb","Tb","Pb","Eb","Zb","Yb"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},t={iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]},i={floor:Math.floor,ceil:Math.ceil};function a(s){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=[],u=0,f,m,h,T,B,$,_,Y,ee,U,H,ne,K,fe,le,ce,ve,w,p,d,g;if(isNaN(s))throw new TypeError("Invalid number");if(h=n.bits===!0,le=n.unix===!0,ne=n.pad===!0,m=n.base||2,K=n.round!==void 0?n.round:le?1:2,_=n.locale!==void 0?n.locale:"",Y=n.localeOptions||{},ce=n.separator!==void 0?n.separator:"",ve=n.spacer!==void 0?n.spacer:le?"":" ",p=n.symbols||{},w=m===2&&n.standard||"jedec",H=n.output||"string",B=n.fullform===!0,$=n.fullforms instanceof Array?n.fullforms:[],f=n.exponent!==void 0?n.exponent:-1,d=i[n.roundingMethod]||Math.round,U=Number(s),ee=U<0,T=m>2?1e3:1024,g=isNaN(n.precision)===!1?parseInt(n.precision,10):0,ee&&(U=-U),(f===-1||isNaN(f))&&(f=Math.floor(Math.log(U)/Math.log(T)),f<0&&(f=0)),f>8&&(g>0&&(g+=8-f),f=8),H==="exponent")return f;if(U===0)o[0]=0,fe=o[1]=le?"":r[w][h?"bits":"bytes"][f];else{u=U/(m===2?Math.pow(2,f*10):Math.pow(1e3,f)),h&&(u=u*8,u>=T&&f<8&&(u=u/T,f++));var z=Math.pow(10,f>0?K:0);o[0]=d(u*z)/z,o[0]===T&&f<8&&n.exponent===void 0&&(o[0]=1,f++),fe=o[1]=m===10&&f===1?h?"kb":"kB":r[w][h?"bits":"bytes"][f],le&&(o[1]=w==="jedec"?o[1].charAt(0):f>0?o[1].replace(/B$/,""):o[1],e.test(o[1])&&(o[0]=Math.floor(o[0]),o[1]=""))}if(ee&&(o[0]=-o[0]),g>0&&(o[0]=o[0].toPrecision(g)),o[1]=p[o[1]]||o[1],_===!0?o[0]=o[0].toLocaleString():_.length>0?o[0]=o[0].toLocaleString(_,Y):ce.length>0&&(o[0]=o[0].toString().replace(".",ce)),ne&&Number.isInteger(o[0])===!1&&K>0){var M=ce||".",j=o[0].toString().split(M),R=j[1]||"",A=R.length,O=K-A;o[0]="".concat(j[0]).concat(M).concat(R.padEnd(A+O,"0"))}return B&&(o[1]=$[f]?$[f]:t[w][f]+(h?"bit":"byte")+(o[0]===1?"":"s")),H==="array"?o:H==="object"?{value:o[0],symbol:o[1],exponent:f,unit:fe}:o.join(ve)}return a.partial=function(s){return function(n){return a(n,s)}},a})});var Tr=Ae((Dt,Er)=>{var gt=require("stream"),bt=["write","end","destroy"],yt=["resume","pause"],vt=["data","close"],kr=Array.prototype.slice;Er.exports=xt;function He(e,r){if(e.forEach)return e.forEach(r);for(var t=0;t<e.length;t++)r(e[t],t)}function xt(e,r){var t=new gt,i=!1;return He(bt,a),He(yt,s),He(vt,n),r.on("end",o),e.on("drain",function(){t.emit("drain")}),e.on("error",u),r.on("error",u),t.writable=e.writable,t.readable=r.readable,t;function a(f){t[f]=m;function m(){return e[f].apply(e,arguments)}}function s(f){t[f]=m;function m(){t.emit(f);var h=r[f];if(h)return h.apply(r,arguments);r.emit(f)}}function n(f){r.on(f,m);function m(){var h=kr.call(arguments);h.unshift(f),t.emit.apply(t,h)}}function o(){if(!i){i=!0;var f=kr.call(arguments);f.unshift("end"),t.emit.apply(t,f)}}function u(f){t.emit("error",f)}}});var Dr=Ae((Ot,he)=>{"use strict";var Pr=require("fs"),Br=require("stream"),Ze=require("zlib"),{promisify:St}=require("util"),$t=Tr(),Xe=e=>({level:9,...e}),kt=St(Ze.gzip);he.exports=async(e,r)=>e?(await kt(e,Xe(r))).length:0;he.exports.sync=(e,r)=>Ze.gzipSync(e,Xe(r)).length;he.exports.stream=e=>{let r=new Br.PassThrough,t=new Br.PassThrough,i=$t(r,t),a=0,s=Ze.createGzip(Xe(e)).on("data",n=>{a+=n.length}).on("error",()=>{i.gzipSize=0}).on("end",()=>{i.gzipSize=a,i.emit("gzip-size",a),t.end()});return r.pipe(s),r.pipe(t,{end:!1}),i};he.exports.file=(e,r)=>new Promise((t,i)=>{let a=Pr.createReadStream(e);a.on("error",i);let s=a.pipe(he.exports.stream(r));s.on("error",i),s.on("gzip-size",t)});he.exports.fileSync=(e,r)=>he.exports.sync(Pr.readFileSync(e),r)});Rr(exports,{activate:()=>Et,deactivate:()=>Tt});var L=Me(require("vscode")),Qe=Me(Sr()),Ce=Me($r()),Or=Me(Dr());function Et(e){let r=L.commands.registerCommand("phaser4examples.create",()=>{let i=L.window.activeTextEditor,a="../../../../../phaser-genesis/srcx";if(i){let n=i.document.fileName.split("\\"),o=n.indexOf("src");a="../".repeat(n.length-o+1)+"phaser-genesis/src"}let s=`//  Phaser 4 Example

        import { BackgroundColor, GlobalVar, Parent, Scenes, WebGL } from '${a}/config';

import { AddChild } from '${a}/display/';
import { Game } from '${a}/Game';
import { ImageFile } from '${a}/loader/files/ImageFile';
import { Loader } from '${a}/loader/Loader';
import { Scene } from '${a}/scenes/Scene';
import { Sprite } from '${a}/gameobjects/';
import { StaticWorld } from '${a}/world/StaticWorld';

class Demo extends Scene
{
    constructor ()
    {
        super();

        this.create();
    }

    async create ()
    {
        await ImageFile('logo', 'assets/logo.png');

        const world = new StaticWorld(this);

        const logo = new Sprite(400, 300, 'logo');

        AddChild(world, logo);
    }
}

new Game(
    WebGL(),
    Parent('gameParent'),
    GlobalVar('Phaser4'),
    BackgroundColor(0x2d2d2d),
    Scenes(Demo)
);
`;L.workspace.openTextDocument({language:"typescript",content:s})});e.subscriptions.push(r);let t=L.commands.registerCommand("phaser4examples.build",()=>{let i=L.window.activeTextEditor;if(i){let a=i.document.fileName;if(a.startsWith("d:\\wamp\\www\\dev\\examples\\src")){let s=a.replace("d:\\wamp\\www\\dev\\examples\\src","d:\\wamp\\www\\dev\\examples\\live").replace(".ts",".js"),n=a.replace("d:\\wamp\\www\\dev\\examples\\src","d:\\wamp\\www\\dev\\examples\\live").replace(".ts",".min.js"),o=a.replace("d:\\wamp\\www\\dev\\examples\\src\\",""),u=(0,Qe.buildSync)({entryPoints:[a],outfile:s,target:"esnext",sourcemap:!0,minify:!1,bundle:!0,metafile:!0,logLevel:"silent"});if(u.errors.length>0)L.window.showInformationMessage(`esbuild error ${u.errors}`);else{let m=`http://192.168.0.100/dev/examples/live/debug.html?f=${o.replace(".ts",".js").replace("\\","/")}`;L.env.clipboard.writeText(m),L.window.showInformationMessage(`Built Phaser 4 Example: ${o}`,"Metafile","Stats","Open").then(h=>{h==="Metafile"?L.workspace.openTextDocument({language:"text",content:JSON.stringify(u.metafile,null,2)}):h==="Open"?L.env.openExternal(L.Uri.parse(m)):h==="Stats"&&((0,Qe.buildSync)({entryPoints:[a],outfile:n,target:"esnext",sourcemap:!1,minify:!0,bundle:!0,metafile:!1,logLevel:"silent"}),Promise.all([L.workspace.fs.stat(L.Uri.file(s)),L.workspace.fs.stat(L.Uri.file(n)),L.workspace.fs.readFile(L.Uri.file(n))]).then(T=>{let B=(0,Ce.default)(T[0].size),$=(0,Ce.default)(T[1].size),_=(0,Ce.default)(Or.default.sync(Buffer.from(T[2])));L.window.showInformationMessage(`Bundle: ${B} - Min: ${$} - Gzip: ${_}`)}).catch(T=>{console.error("fucking arse",T)}))})}}else L.window.showErrorMessage("Not a Phaser 4 Example")}});e.subscriptions.push(t)}function Tt(){}0&&(module.exports={activate,deactivate});
/**
 * filesize
 *
 * @copyright 2021 Jason Mulligan <jason.mulligan@avoidwork.com>
 * @license BSD-3-Clause
 * @version 7.0.0
 */
